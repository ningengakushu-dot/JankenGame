# 脱初心者を目指す！JavaScript 13のステップ

ここから「脱初心者」を目指して、このコードを教材にJavaScriptの理解を深めるための**13のステップ（課題）**を提案します。
難易度順に並べていますので、できそうなところからチャレンジしてみてください。

## Level 1：コードを整理・効率化する（リファクタリング）
今のコードは「動く」状態ですが、メンテナンス性を高めるための書き方を学びます。

### 1. 3つの関数を1つにまとめる（DRY原則）　2025/12/08完了！
- **現状**: `goo()`, `choki()`, `par()` の中身は、「自分の手」が違うだけで、あとの処理（乱数生成、勝敗判定、表示）はほとんど同じコードの繰り返しになっています。
- **課題**: 引数を使って `function playGame(userHand)` という1つの関数にまとめてみましょう。
- **ヒント**: `goo`は0、`choki`は1、`par`は2として引数に渡します。

### 2. HTML内の `onclick` をやめて、JS側でイベント監視する
- **現状**: HTMLに `onclick="goo()"` と書いています。
- **課題**: HTMLから `onclick` を削除し、JavaScriptファイル内で `addEventListener` を使ってクリックイベントを設定しましょう。
- **学び**: HTML（構造）とJavaScript（動作）を完全に分離する「関心の分離」を学びます。

### 3. 勝敗判定ロジックを計算式にする
- **現状**: `if`文で「自分が0で相手が0なら...」「自分が0で相手が1なら...」と全てのパターンを書いています。
- **課題**: `(自分の手 - 相手の手 + 3) % 3` などの計算式を使って、少ない行数で勝敗判定をしてみましょう。
  - `0`: あいこ
  - `1`: 勝ち
  - `2`: 負け
  - のように判定できます。

### 4. `const` と `let` を使い分ける
- **現状**: すべて `let` で宣言されています。
- **課題**: 再代入しない変数（`document.getElementById` で取得した要素など）は `const` に書き換えましょう。
- **学び**: 意図しない値の変更を防ぐ安全なコードの書き方を学びます。

## Level 2：脱・文字列操作（DOM操作の強化）
`innerHTML` でHTMLを丸ごと書き換える方法は簡単ですが、細かい制御が難しくなります。

### 5. `innerHTML` の使用を減らし、`textContent` と `classList` を使う
- **現状**: 結果を表示する際、HTMLタグごと書き換えている箇所があります。
- **課題**: テキストだけの変更なら `textContent` を使いましょう。また、勝った時に文字を赤くしたい場合などは、CSSクラスを用意しておき、JSで `element.classList.add('red')` のようにクラスを付け外ししてスタイルを変えてみましょう。

### 6. 画像を表示するようにする
- **課題**: 「グー」「チョキ」という文字の代わりに、画像（`img`タグ）を表示させてみましょう。
- **学び**: `src` 属性の動的な書き換えを学びます。

### 7. リセットボタンの処理を改善する
- **現状**: `reset()` 関数の中で、`jan.innerHTML = ...` と長いHTML文字列を再代入してボタンを復元しています。
- **課題**: HTML要素自体は消さず、CSSの `display: none` や `visibility: hidden` をJavaScriptで切り替えることで、「3連勝時のメッセージ」と「じゃんけんボタン」の表示・非表示を制御してください。

## Level 3：データの扱いと機能追加
アプリとして面白くしつつ、データの扱い方を学びます。

### 8. オブジェクトで状態を管理する
- **現状**: `kati`, `make`, `wake` など個別の変数で管理しています。
- **課題**: これらを一つのオブジェクトにまとめてみましょう。

```javascript
const score = {
  win: 0,
  lose: 0,
  draw: 0,
  streak: 0
};
```
このようにすると、データのまとまりが良くなります。

### 9. 「対戦履歴」をリスト表示する
- **課題**: 画面の下の方に `<ul>` タグを用意し、じゃんけんをするたびに `<li>1回目: 勝ち</li>` のように履歴を追加していきましょう。
- **学び**: 配列（Array）の操作と、ループ処理、`document.createElement` と `appendChild` の使い方を学びます。

### 10. 勝率（%）を表示する
- **課題**: 勝・負・引き分けの数から、「現在の勝率は 〇〇% です」とリアルタイムで計算して表示してください。
- **学び**: 数値計算と、小数の桁数処理（`toFixed`など）を学びます。

## Level 4：もっとJavaScriptらしく（モダンJS）

### 11. ローカルストレージに保存する
- **課題**: ブラウザをリロードしても、勝敗数や連勝記録が消えないように `localStorage` にデータを保存・読み出しする機能を追加してください。

### 12. 音を鳴らす
- **課題**: ボタンを押した時や、勝った時、負けた時にそれぞれ違う効果音を鳴らしてみましょう（`new Audio()` を使用）。

### 13. キーボード操作に対応する
- **課題**: マウスでクリックするだけでなく、キーボードの「1」「2」「3」キーを押してもじゃんけんができるようにしてください。
- **学び**: `keydown` イベントの取得を学びます。

---

## どれから始めればいい？
まずは 【**Level 1の 1番：3つの関数を1つにまとめる**】 が最も勉強になり、コードが劇的にきれいになるのでおすすめです。